<!DOCTYPE html>
<html lang="ja">
<head>
  <meta charset="UTF-8">
  <title>メモ追加</title>
  <style>
    body { font-family: sans-serif; background:#f9f9f9; margin:40px; }
    .box  { background:#fff; padding:16px; border-radius:8px; max-width:640px; }
    .row  { margin:12px 0; }
    label { display:block; margin-bottom:6px; color:#333; }
    input[type="text"], textarea {
      width:95%; padding:8px 10px; border:1px solid #ccc; border-radius:6px;
    }
    button { padding:8px 14px; border:none; background:#333; color:#fff; border-radius:6px; cursor:pointer; }
    .err { color:#b00020; margin:0 0 12px; }
    a { color:#333; text-decoration:none; margin-left:12px; }
  </style>
</head>
<body>
  <div class="box">
    <h1>メモを追加</h1>

    <!-- エラーがある場合、データは保存されておらず、ここでユーザーに知らせる -->
    {% if error %}
      <p class="err">❌️ {{ error }}</p>
    {% endif %}

    <!-- 送信先は /add（POST）→ サーバで検証 → 保存 → 一覧へ -->
    <form method="post" action="/add">
      <div class="row">
        <label for="title">タイトル（必須）</label>
        <input type="text" id="title" name="title" value="{{ last_title or '' }}" required>
      </div>

      <div class="row">
        <label for="body">本文（省略可）</label>
        <textarea name="body" id="body" rows="6">{{ last_body or "" }}</textarea>
      </div>

      <div class="row">
        <button type="submit">保存する</button>
        <a href="/">一覧へ戻る</a>
      </div>
    </form>
  </div>
</body>
</html>