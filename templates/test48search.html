<!DOCTYPE html>
<html lang="ja">
<head>
  <meta charset="UTF-8">
  <title>æ¤œç´¢çµæœ</title>
  <style>
    body { font-family:sans-serif; background:#f7f7f7; margin:32px; }
    .box { background:#fff; padding:16px; border-radius:8px; max-width:920px; }
    table { width:100%; border-collapse:collapse; margin-top:12px; }
    th, td { border-bottom:1px solid #eee; padding:8px; text-align:left; }
    th { background:#f5f5f5; }
    .meta { color:#666; font-size:14px; margin-bottom:6px; }
    .muted { color:#888; font-size:12px; }
    a { color:#333; text-decoration:none; }
    .hdr { display:flex; justify-content:space-between; align-items:center; }
    .input { padding:6px 10px; border:1px solid #ccc; border-radius:6px; width:240px; }
    .btn { padding:6px 12px; border:none; background:#333; color:#fff; border-radius:6px; cursor:pointer; }
    mark { background: #fff2a8; padding: 0 2px; border-radius: 2px; } 
  </style>
</head>
<body>
  <div class="box">
    <div class="hdr">
      <h1 style="margin: 0;">æ¤œç´¢</h1>
      <a href="/" class="muted">â† ä¸€è¦§ã¸æˆ»ã‚‹</a>
    </div>

    <!-- æ¤œç´¢ãƒ•ã‚©ãƒ¼ãƒ ï¼šGETã§ /search?q=... ã¸é€ã‚‹ -->
    <form method="get" action="/search" style="margin-top: 12px;">
      <!-- q ã«ã¯å‰å›ã®å…¥åŠ›ï¼ˆqï¼‰ã‚’å…¥ã‚Œã¦ãŠãã¨å†æ¤œç´¢ã—ã‚„ã™ã„ -->
      <input class="input" type="text" name="q" placeholder="ã‚­ãƒ¼ãƒ¯ãƒ¼ãƒ‰ã‚’å…¥åŠ›" value="{{ q or '' }}">
      <button class="btn" type="submit">æ¤œç´¢</button>
    </form>

    <!-- ä»¶æ•°ãƒ¡ã‚¿æƒ…å ±ï¼šcount ã¯Pythonå´ã§æ•°ãˆã¦æ¸¡ã—ã¦ã‚‹ã‚ˆã€œ -->
    <p class="meta" style="margin-top: 10px;">
      ğŸ”ï¸ ã€Œ{{ q or '(æœªå…¥åŠ›)'}}ã€ã®æ¤œç´¢çµæœï¼š{{ count }} ä»¶
      <span class="muted">ï¼ˆğŸ“† æ–°ã—ã„é †ã«ä¸¦ã¹æ›¿ãˆã¦ã„ã¾ã™ï¼‰</span>
    </p>

    {% if count == 0 %}
      <p class="muted">è©²å½“ã™ã‚‹ãƒ¡ãƒ¢ã¯è¦‹ã¤ã‹ã‚Šã¾ã›ã‚“ã§ã—ãŸã€‚</p>
    {% else %}
      <table>
        <thead>
          <tr>
            <th style="width: 80px;">ID</th>
            <th>ã‚¿ã‚¤ãƒˆãƒ«</th>
            <th style="width: 180px;">ä½œæˆæ—¥æ™‚</th>
            <th style="width: 140px;">æ“ä½œ</th>
          </tr>
        </thead>
        <tbody>
        {% for it in items %}
          <tr>
            <td>#{{ it.id }}</td>
            <td>
              <a href="/notes/{{ it.id }}" style="color: #333; text-decoration: none;">{{ it.title_html }}</a>
              <div class="muted">{{ it.body_snip }}</div>
            </td>
            <td>{{ it.created_at }}</td>
            <td>
              <a href="/notes/{{ it.id }}/edit" style="margin-right: 8px;">âœï¸ ç·¨é›†</a>
              <a href="/notes/{{ it.id }}/delete" style="color:#c62828">ğŸ—‘ï¸ å‰Šé™¤</a>
            </td>
          </tr>
        {% endfor %}
        </tbody>
      </table>
    {% endif %}
  </div>
</body>
</html>